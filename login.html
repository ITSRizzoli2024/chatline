<!DOCTYPE html>
<html lang="it">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Chatline - Area Personale</title>
   <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
   <style>
       .gradient-bg {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
       }
       .info-tooltip {
           display: none;
           position: absolute;
           left: 0;
           top: 100%;
           margin-top: 5px;
           z-index: 50;
       }
       .info-icon:hover + .info-tooltip {
           display: block;
       }
   </style>
</head>
<body class="bg-gray-50">
   <!-- Header/Navigation -->
   <nav class="bg-white shadow-lg fixed w-full z-50">
       <div class="max-w-7xl mx-auto px-4">
           <div class="flex justify-between h-16">
               <div class="flex items-center">
                   <span class="text-2xl font-bold text-purple-600">Chatline</span>
               </div>
               <div class="flex items-center space-x-4">
                   <a href="caratteristiche.html" class="text-gray-700 hover:text-purple-600">Caratteristiche</a>
                   <button class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700">
                       <a href="index.html">Home</a>
                   </button>
               </div>
           </div>
       </div>
   </nav>

   <!-- Main Content -->
   <div class="pt-24 pb-12">
       <div id="app-container"></div>
   </div>

   <!-- Footer -->
   <footer class="bg-gray-800 text-white py-12">
       <div class="max-w-7xl mx-auto px-4">
           <div class="grid md:grid-cols-4 gap-8">
               <div>
                   <h4 class="text-xl font-bold mb-4">Chatline</h4>
                   <p class="text-gray-400">
                       Da più di 25 anni il modo più pratico e sicuro per fare amicizia con la voce.
                   </p>
               </div>
               <div>
                   <h4 class="text-xl font-bold mb-4">Link Utili</h4>
                   <ul class="space-y-2">
                       <li><a href="chisiamo.html" class="text-gray-400 hover:text-white">Chi Siamo</a></li>
                       <li><a href="caratteristiche.html" class="text-gray-400 hover:text-white">Come Funziona</a></li>
                   </ul>
               </div>
               <div>
                   <h4 class="text-xl font-bold mb-4">Legale</h4>
                   <ul class="space-y-2">
                       <li><a href="condizioni.html" class="text-gray-400 hover:text-white">Termini di Servizio</a></li>
                       <li><a href="privacy.html" class="text-gray-400 hover:text-white">Privacy Policy</a></li>
                   </ul>
               </div>
               <div>
                   <h4 class="text-xl font-bold mb-4">Contatti</h4>
                   <ul class="space-y-2">
                       <li class="text-gray-400">Supporto: support@chatline.it</li>
                       <li class="text-gray-400">Sicurezza: safety@chatline.it</li>
                   </ul>
               </div>
           </div>
           <div class="border-t border-gray-700 mt-8 pt-8 text-center">
               <p class="text-gray-400">© 2024 Chatline. Tutti i diritti riservati. Chatline è un servizio erogato da 10993 Srl - Via Conservatorio, 30 - 20122 Milano P.IVA 13212040151</p>
           </div>
       </div>
   </footer>

   <script>
       class LoginApp {
           constructor(container) {
               this.container = container;
               this.currentView = 'login';
               this.boxNumber = '';
               this.pinCode = '';
               this.render();
           }

           createLoginView() {
               return `
                   <div class="max-w-md mx-auto px-4">
                       <div class="bg-white rounded-lg shadow-lg p-8">
                           <h2 class="text-2xl font-bold text-center text-gray-900 mb-8">Accedi all'Area Personale</h2>
                           <form class="space-y-6">
                               <div>
                                   <div class="flex items-center mb-2">
                                       <label class="block text-gray-700 font-medium">Numero Casella</label>
                                       <div class="ml-2 relative">
                                           <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 cursor-help info-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                           </svg>
                                           <div class="info-tooltip w-48 p-2 bg-gray-800 text-white text-sm rounded shadow-lg">
                                               È il numero che hai ricevuto al momento della registrazione
                                           </div>
                                       </div>
                                   </div>
                                   <input 
                                       type="text" 
                                       class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500"
                                       placeholder="Inserisci il tuo numero di casella"
                                       value="${this.boxNumber}"
                                       required
                                   >
                               </div>
                               <div>
                                   <div class="flex items-center mb-2">
                                       <label class="block text-gray-700 font-medium">PIN</label>
                                       <div class="ml-2 relative">
                                           <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 cursor-help info-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                           </svg>
                                           <div class="info-tooltip w-48 p-2 bg-gray-800 text-white text-sm rounded shadow-lg">
                                               Il tuo codice personale riservato
                                           </div>
                                       </div>
                                   </div>
                                   <input 
                                       type="password" 
                                       class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500"
                                       placeholder="Inserisci il tuo PIN"
                                       value="${this.pinCode}"
                                       required
                                   >
                               </div>
                               <button 
                                   type="button"
                                   id="login-button"
                                   class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700">
                                   Accedi
                               </button>
                           </form>
                       </div>
                   </div>
               `;
           }

           createDashboardView() {
               const minutes = 15;
               const points = 25;
               const isLowCredit = minutes < 20;

               return `
                   <div class="max-w-2xl mx-auto px-4">
                       <div class="bg-white rounded-lg shadow-lg p-8">
                           <div class="space-y-4 mb-8">
                               <p class="text-lg text-gray-700 text-center">
                                   Il Numero per chiamare Chatline è <span class="font-bold">02.29527555</span>
                               </p>
                               <p class="text-lg text-gray-700 text-center">
                                   Il tuo Numero di Casella è <span class="font-bold">100000</span>
                               </p>
                           </div>

                           <h2 class="text-2xl font-bold text-center text-gray-900 mb-8">Il tuo credito</h2>
                           
                           <div class="grid md:grid-cols-2 gap-6 mb-8">
                               <div class="bg-purple-50 p-6 rounded-lg text-center">
                                   <h3 class="text-lg font-semibold text-gray-700 mb-2">Minuti Residui</h3>
                                   <p class="text-3xl font-bold text-purple-600">${minutes}</p>
                               </div>
                               <div class="bg-indigo-50 p-6 rounded-lg text-center">
                                   <h3 class="text-lg font-semibold text-gray-700 mb-2">Punti Accumulati</h3>
                                   <p class="text-3xl font-bold text-indigo-600">${points}</p>
                               </div>
                           </div>

                           ${isLowCredit ? `
                               <div class="bg-yellow-50 border border-yellow-200 p-6 rounded-lg mb-6">
                                   <p class="text-yellow-800 text-center">
                                       Il tuo credito minuti è quasi esaurito! Effettua una ricarica per continuare a utilizzare tutti i servizi di Chatline.
                                   </p>
                               </div>
                           ` : ''}

                           <div class="flex justify-center space-x-4">
                               <a href="ricarica.html" class="bg-purple-600 text-white px-8 py-3 rounded-lg hover:bg-purple-700">
                                   Effettua una Ricarica
                               </a>
                               <a href="webrtc.html" class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700">
                                   Chiama da Web
                               </a>
                           </div>
                       </div>
                   </div>
               `;
           }

           setupEventListeners() {
               if (this.currentView === 'login') {
                   const loginButton = this.container.querySelector('#login-button');
                   const boxInput = this.container.querySelector('input[type="text"]');
                   const pinInput = this.container.querySelector('input[type="password"]');

                   boxInput?.addEventListener('input', (e) => {
                       this.boxNumber = e.target.value;
                   });

                   pinInput?.addEventListener('input', (e) => {
                       this.pinCode = e.target.value;
                   });

                   loginButton?.addEventListener('click', () => {
                       if (this.boxNumber && this.pinCode) {
                           this.currentView = 'dashboard';
                           this.render();
                       } else {
                           alert('Inserisci numero casella e PIN');
                       }
                   });
               }
           }

           render() {
               let content = '';
               switch (this.currentView) {
                   case 'login':
                       content = this.createLoginView();
                       break;
                   case 'dashboard':
                       content = this.createDashboardView();
                       break;
               }
               
               this.container.innerHTML = content;
               this.setupEventListeners();
           }
       }

       // Inizializzazione dell'app
       document.addEventListener('DOMContentLoaded', () => {
           const container = document.getElementById('app-container');
           if (container) {
               new LoginApp(container);
           }
       });
   </script>
</body>
</html>
